// Variables
@import "node_modules/bulma/sass/utilities/functions.sass";
@import "variables";

// Libraries
@import 'node_modules/bulma/bulma.sass';
@import 'node_modules/animate.css/animate';

// rewrite bulma styles
.button {
    &.is-link {
        padding-left: 0;
        padding-right: 0;
        &:hover {
            background-color: transparent;
        }
    }
}

.hero-buttons {
    @include from($tablet) {
        justify-content: flex-end;
    }
}

.control.has-icon .button.is-primary > .icon {
    color: #fff;
}

.footer {
    padding-bottom: 4rem;
    &.is-simple {
        background-color: transparent;
        opacity: 0.75;
    }
    &:not(.is-simple) {
        $gradient-top-left: darken(saturate(adjust-hue($tertiary, -10deg), 10%), 10%);
        $gradient-bottom-right: lighten(saturate(adjust-hue($tertiary, 10deg), 5%), 5%);
        background-image: linear-gradient(141deg, $gradient-top-left 0%, $tertiary 71%, $gradient-bottom-right 100%);
        .content,
        a.nav-item {
            color: white;
        }
    }
}

.vue-slider-piecewise li + li {
    margin-top: 0;
}

//hide before font loads
.wf-loading {
    h1, h2, h3, h4, h5, h6, a, p, label, span, div {
        visibility: hidden;
    }
}

// new global styles
@mixin has-border($border_direction) {
    border-#{$border_direction}: 1px solid $border;
}

.has-border-top {
    @include has-border(top);
}

.has-border-bottom {
    @include has-border(bottom);
}

.font-secondary-family {
    font-family: $family-secondary;
}

.image-wrapper {
    margin-bottom: $space-medium;
}

.icon {
    vertical-align: middle; // rewrite bulma
    &.has-border-circle {
        border: 2px solid;
        border-radius: 50%;
        .fa {
            font-size: $size-6;
            margin-top: -2px;
        }
    }
    .control.has-icon:not(.has-icon-right)  &.align-right {
        left: initial;
        right: ($size-normal * 2.5) / 2;
        transform: translateX(50%) translateY(-50%);
    }
    .control.has-icon &.is-danger {
        color: $danger;
    }
    & + span {
        vertical-align: middle;
        margin-left: 5px
    }
}

.link-inherit-color {
    color: inherit;
}

.card-footer-item {
    padding: 1.5rem;
}

.dropdown {
    position: relative;
    .dropdown-button {
        cursor: pointer;
        &.nav-toggle {
            display: block;
        }
    }
    @include from($desktop) {
        .dropdown-list {
            // @extend .box;
            padding: 0;
            display: none;
            position: absolute;
            top: $size-1;
            &:before,
            &:after {
                content: "";
                display: inline-block;
                position: absolute;
            }
            &.dropdown-list_align-right {
                right: 0.75rem;
                &:before {
                    top: -10px;
                    right: 3px;
                    bottom: auto;
                    border: 10px solid transparent;
                    border-top: 0;
                    border-bottom-color: $border;
                }
                &:after {
                    top: -9px;
                    right: 4px;
                    bottom: auto;
                    border: 9px solid transparent;
                    border-top: 0;
                    border-bottom-color: #fff;
                }
            }
            a {
                // @extend .nav-item;
                white-space: nowrap;
            }
        }
        &:hover .dropdown-list {
            display: block;
        }
    }
}

.panel-block {
    > .media {
        flex: 1;
    }
}

.box {
    &.is-circle {
        border-radius: 50%;
    }
}

.page-content {
    .nav {
        z-index: 1;
    }
}

.control.is-grouped.is-gapless > .control:not(:last-child) {
    margin-right: -1px;
}

.section {
    .has-max-width {
        max-width: 520px;
        margin-left: auto;
        margin-right: auto;
    }
}

@include from($widescreen) {
    [class^="width-"] {
        margin: 0 auto;
        &.width-half {
            width: 50%;
        }
    }
}


// modify animations
.animated {
    &.notification {
        &.fadeOut {
            animation-delay: 3s;
        }
    }
    &.animated-fast {
        animation-duration: $speed;
    }
}

// page specific styles
body {
    // width: 100%;
    // height: 100%;
    overflow-x: hidden;
    &.home,
    &.login,
    &.signup {
        .page-content + .footer {
            display: none;
        }
    }
    &.login,
    &.signup,
    &[class^="password-reset"] {
        &.hero {
            justify-content: flex-start;
        }
        .page-content {
            .container {
                @include from(400px) {
                    margin: 0 auto;
                    width: 340px;
                }
            }
        }
        .section {
            background-color: transparent;
        }
        a.button:not(.is-primary) {
            color: $grey-darker;
        }
    }
    &.home {
        color: $text-secondary;
        .content {
            &, h1, h2, h3, h4, h5, h6, .title, .subtitle {
                color: $text-secondary;
            }
        }
        #app {
            height: auto;
            min-height: 100%;
            width: 100%;
            position: relative;
        }
        .page-content {
            position: relative;
            min-height: 100%;
            overflow: hidden;
        }
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 101;
        }
        .section {
            @include from($widescreen) {
                .hero {
                    justify-content: center;
                }
                .hero-body {
                    width: 80%;
                    margin: 0 auto;
                    flex-grow: 0;
                    background: rgba($light-tan, $opacity-dark);
                    background-image: linear-gradient(rgba($light-tan, $opacity-dark), rgba(#fff, $opacity-dark));
                }                
            }
            .container {
                padding-top: $space-large;
                padding-bottom: $space-large;
            }
        }
        .tagline {
            margin-top: $space-xsmall;
            margin-bottom: $size-1;
        }
        .homepage-icon {
            margin: 0 auto $space-small;
        }
        .step-number {
            display: inline-block;
            width: $size-3;
            height: $size-3;
            text-align: center;
            border: 2px solid $secondary;
            border-radius: 50%;
            margin-bottom: $space-small;
        }
    }
}

.dashboard {
    .hero,
    .nav {
        background-color: transparent;
    }
    .hero-body {
        padding: 2rem 1.5rem;
    }
}